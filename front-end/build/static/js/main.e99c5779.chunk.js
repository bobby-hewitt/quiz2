(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(37).concat([function(e,t,n){e.exports=n.p+"static/media/go.4ed69486.wav"},function(e,t,n){e.exports=n.p+"static/media/bounce.ec919d7f.wav"},function(e,t,n){e.exports=n.p+"static/media/correct.8e3d6124.mp3"},function(e,t,n){e.exports=n.p+"static/media/wrong.3dc30b2b.wav"},,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(141)},,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/timer.1cbb8973.wav"},function(e,t,n){e.exports=n.p+"static/media/coin.b0c2f096.wav"},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,n){e.exports=n.p+"static/media/end.fe765dbd.wav"},function(e,t,n){e.exports=n.p+"static/media/thud.5aa61bec.wav"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/forward.85197b81.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/hostBackground.d4c8bff6.png"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,o,r,s=n(0),i=n.n(s),c=n(55),u=n(8),l=n(9),p=n(14),m=n(7),h=n(13),d={room:null,players:[],gameState:"welcome",questionIndex:0,round:1,viewResponses:!1,question:{question:"",answers:[]}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOST_SET_ROOM":return Object(h.a)({},e,{room:t.payload});case"HOST_PLAYER_JOINED":var n=Object.assign([],e.players);t.payload.isConnected=!0;for(var a=!1,o=0;o<n.length;o++)t.payload.prevId!==n[o].id||n[o].isConnected||(console.log("reconnecting existing player"),n[o].id=t.payload.id,n[o].isConnected=!0,a=!0);return a||(console.log("creating new player"),t.payload.score=0,n.push(t.payload)),Object(h.a)({},e,{players:n});case"HOST_PLAYER_LEFT":for(n=Object.assign([],e.players),o=0;o<n.length;o++)n[o].id===t.payload.id&&(n[o].isConnected=!1);return Object(h.a)({},e,{players:n});case"HOST_SET_GAME_STATE":return Object(h.a)({},e,{gameState:t.payload});case"HOST_NEXT_QUESTION":return Object(h.a)({},e,{questionIndex:0===t.payload?0:e.questionIndex+1});case"HOST_SHOW_HINTS":return Object(h.a)({},e,{question:t.payload});case"HOST_PLAYER_ANSWER_RECEIVED":console.log("in player answered reducer");for(n=Object.assign([],e.players),o=0;o<n.length;o++)t.payload.id===n[o].id&&(n[o].hasSubmitted=!0,n[o].answer=t.payload.answer);return Object(h.a)({},e,{players:n});case"HOST_UPDATE_ANSWERS":return console.log("updating answers",t.payload),Object(h.a)({},e,{question:{question:e.question.question,answers:t.payload}});case"HOST_UPDATE_PLAYERS":return Object(h.a)({},e,{players:t.payload});case"HOST_SET_ROUND":return Object(h.a)({},e,{round:t.payload});case"HOST_SET_FINAL_PLAYERS":return Object(h.a)({},e,{finalPlayers:t.payload});case"HOST_SET_VIEW_RESPONSES":return Object(h.a)({},e,{viewResponses:t.payload});default:return e}},y={room:null,name:"",id:null,loading:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYER_SET_SELF":return Object(h.a)({},e,{name:t.payload.playerData.name,id:t.payload.playerData.id,room:t.payload.room});case"PLAYER_SET_LOADING":return Object(h.a)({},e,{loading:t.payload});default:return e}},b={timer:new Audio(n(78)),go:new Audio(n(37)),bounce:new Audio(n(38)),coin:new Audio(n(79)),correct:new Audio(n(39)),wrong:new Audio(n(40))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return(arguments.length>1?arguments[1]:void 0).type,e},g=n(59),O=Object(p.a)(),E=[g.a,Object(l.routerMiddleware)(O)],j=m.d.apply(void 0,[m.a.apply(void 0,E)].concat([])),S=Object(m.e)((a=O,Object(m.c)({router:Object(l.connectRouter)(a),host:f,player:v,sounds:w})),{},j),C=n(27),k=n(2),T=n(3),N=n(5),x=n(4),A=n(6),R=(n(80),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"home"})}}]),t}(s.Component)),q=(Object(u.connect)(function(e){return{}},function(e){return Object(m.b)({push:function(e){return Object(l.push)(e)}},e)})(R),n(81),n(60)),_=n(21),I=n.n(_);function P(e){(o=I()("http://localhost:9000")).on("player-joined-room-successfully",function(e,t){var n={name:t.playerData.name,id:t.playerData.id,room:t.room.short};switch(window.localStorage.quiz=JSON.stringify(n),e.props.playerSetSelf(t),e.props.setLoading(!1),t.gameState){case"welcome":return e.props.push("/p/waiting-start");case"question-entry":return e.props.push("/p/question-input");case"answer-entry":return e.props.push("/p/answer-input");case"waiting":return e.props.push("/p/waiting");case"end":return e.props.push("/p/end");default:return}}.bind(this,e)),o.on("error-joining-room-no-host",D.bind(this,e)),o.on("error-joining-room",D.bind(this,e)),o.on("waiting",function(e){e.props.push("/p/waiting")}.bind(this,e)),o.on("question-input",function(e){e.props.setLoading(!1),e.props.push("/p/question-input")}.bind(this,e)),o.on("answer-input",function(e){e.props.setLoading(!1),e.props.push("/p/answer-input")}.bind(this,e)),o.on("end-game",function(e){e.props.setLoading(!1),e.props.push("/p/end")}.bind(this,e)),o.on("player-error-not-enough-suggestions",function(e){console.log("error"),e.props.setLoading(!1),e.props.push("/p/question-input-error")}.bind(this,e))}function L(e,t){o.emit("player-submit-question",t),e.props.setLoading(!0)}function D(e,t){console.log("error joining room")}function H(e){console.log(e),o.emit("player-start-game",e)}function W(e){(r=I()("http://localhost:9000")).emit("host-connected"),r.on("host-room-generated",function(e,t){e.props.hostSetRoom(t)}.bind(this,e)),r.on("player-joined",function(e,t){if(e.props.playerJoined(t.playerData),"question-entry"===e.props.gameState)for(var a=0;a<e.props.players.length;a++)t.playerData.id===e.props.players[a].id&&(a===e.props.questionIndex?t.gameState="question-entry":t.gameState="waiting");else if("answer-entry"===e.props.gameState)for(var a=0;a<e.props.players.length;a++)t.playerData.id===e.props.players[a].id&&(e.props.players[a].answer?t.gameState="waiting":t.gameState="answer-entry");else t.gameState=e.props.gameState;new Audio(n(113)).play(),r.emit("host-sending-game-state",t),console.log("player-joined",t)}.bind(this,e)),r.on("player-set-name",function(e,t){e.props.setPlayerName(t)}.bind(this,e)),r.on("player-left",function(e,t){e.props.playerLeft(t)}.bind(this,e)),r.on("start-game",function(e){new Audio(n(37)).play(),e.props.setGameState("question-entry"),e.props.push("/host/instructions")}.bind(this,e)),r.on("send-hints-to-host",function(e,t){e.props.setGameState("waiting"),e.props.push("/host/question"),e.props.showHints(t)}.bind(this,e)),r.on("player-answer",function(e,t){var a=e.props.players;new Audio(n(38)).play(),e.props.playerAnswerReceived(t),function(e){for(var t=0,n=0;n<e.length;n++)e[n].answer&&(t+=1);return t===e.length}(a)&&(e.props.sounds.timer.pause(),e.props.sounds.timer.currentTime=0,e.props.setGameState("waiting"),e.props.setViewResponses(!0))}.bind(this,e))}function F(e){var t={player:e.props.players[e.props.questionIndex],room:e.props.room};r.emit("host-send-question-input",t)}function M(e,t){e.props.setGameState("answer-entry"),r.emit("host-send-answer-input",e.props.room)}var G=function(e){return console.log("setting host room"),function(t){t({type:"HOST_SET_ROOM",payload:e})}},V=function(e){return function(t){t({type:"HOST_SET_VIEW_RESPONSES",payload:e})}},U=function(e){return function(t){t({type:"HOST_PLAYER_JOINED",payload:e})}},B=function(e){return function(t){t({type:"HOST_PLAYER_ANSWER_RECEIVED",payload:e})}},Y=function(e){return function(t){t({type:"HOST_UPDATE_ANSWERS",payload:e})}},z=function(e){return function(t){t({type:"HOST_SET_ROUND",payload:e})}},J=function(e){return function(t){t({type:"HOST_UPDATE_PLAYERS",payload:e})}},Q=function(e){return function(t){t({type:"HOST_PLAYER_LEFT",payload:e})}},X=function(e){return function(t){t({type:"HOST_SET_FINAL_PLAYERS",payload:e})}},Z=function(e){return function(t){t({type:"HOST_SHOW_HINTS",payload:e})}},K=function(e){return function(t){t({type:"HOST_SET_GAME_STATE",payload:e})}},$=function(e){return function(t){t({type:"HOST_NEXT_QUESTION",payload:e})}},ee=function(e){return function(t){t({type:"PLAYER_SET_SELF",payload:e})}},te=function(e){return function(t){t({type:"PLAYER_SET_LOADING",payload:e})}},ne=function(e){function t(e){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).call(this,e))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.isHost?W(this):P(this)}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),t}(s.Component),ae=Object(u.connect)(function(e){return{gameState:e.host.gameState,playerRoom:e.player.room,players:e.host.players,question:e.host.question,questionIndex:e.host.questionIndex,sounds:e.sounds}},function(e){return Object(m.b)({push:function(e){return Object(q.push)(e)},hostSetRoom:G,playerSetSelf:ee,setViewResponses:V,playerJoined:U,setGameState:K,setLoading:te,updateAnswers:Y,playerLeft:Q,playerAnswerReceived:B,showHints:Z},e)})(ne),oe=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).timeouts=[],n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeouts[0]=setTimeout(function(){e.props.complete()},100)}},{key:"componentWillUnmount",value:function(){for(var e=this.timeouts.length-1;e>=0;e--)clearTimeout(this.timeouts[e])}},{key:"render",value:function(){return i.a.createElement("h4",null,"Instructions")}}]),t}(s.Component);n(114),n(115);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var se=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.8934 6.42924L17.2911 27.9057C15.8234 29.3648 13.3926 29.3648 11.879 27.9057L1.10076 17.1903C-0.366919 15.7311 -0.366919 13.3145 1.10076 11.8097C2.56843 10.3506 4.99927 10.3506 6.51282 11.8097L14.6309 19.8805L33.5272 1.09434C34.9949 -0.36478 37.4258 -0.36478 38.9393 1.09434C40.3611 2.55346 40.3611 4.97012 38.8934 6.42924Z",fill:"white"}),ie=function(e){return i.a.createElement("svg",re({width:40,height:29,viewBox:"0 0 40 29",fill:"none"},e),se)},ce=(n.p,s.Component,n(116),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.onClick;return i.a.createElement("div",{className:"buttonContainer",onClick:n.bind(this)},i.a.createElement("p",null,t))}}]),t}(s.Component));n(117);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var le=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.06948 12.7967H23.2436C25.5855 12.7967 25.5855 9.20426 23.2436 9.20426H6.06948L12.2365 3.03464C13.8759 1.39461 11.3778 -1.10447 9.66042 0.535553L0.526932 9.75093C-0.175644 10.4538 -0.175644 11.5471 0.526932 12.25L9.66042 21.4654C11.3778 23.1054 13.8759 20.6063 12.2365 18.8882L6.06948 12.7967Z",fill:"white"}),pe=function(e){return i.a.createElement("svg",ue({width:25,height:22,viewBox:"0 0 25 22",fill:"none"},e),le)},me=(n.p,s.Component,n(118),s.Component,n(119),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){this.props.onContinue(this.refs.input.value)}},{key:"render",value:function(){var e=this.props,t=e.onContinue,a=e.value,o=e.placeholder,r=e.onChange;return i.a.createElement("div",{className:"textInputContainer"},i.a.createElement("input",{placeholder:o,type:"text",ref:"input",value:a,onChange:r}),t&&i.a.createElement("div",{className:"continue",onClick:this.onContinue.bind(this)},i.a.createElement("img",{src:n(120)})))}}]),t}(s.Component)),he=(n(121),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=(e.image,e.planet,e.isConnected),a=e.color,o=e.index,r=e.score;e.hasSubmitted;return i.a.createElement("div",{className:"hostPlayerOuterContainer"},i.a.createElement("div",{className:"hostPlayerContainer ".concat(!n&&"isDisconnected"," ")},i.a.createElement("div",{className:"playerCircle",style:{background:a}},i.a.createElement("p",null,t&&t[0]&&t[0].toUpperCase()?t[0].toUpperCase():"?")),i.a.createElement("p",{className:"name"},t||"Player ".concat(o+1)),i.a.createElement("p",{className:"score"},r||0)))}}]),t}(s.Component)),de=(n(122),n(123),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).title=n.createTitle(),n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"createTitle",value:function(){for(var e=this.props.title,t=[],n=0;n<e.length;n++)t.push(e[n]);return t}},{key:"render",value:function(){var e=this.props,t=e.room,n=e.title;return i.a.createElement("div",{className:"titleOuterContainer"},i.a.createElement(we,{text:n}),i.a.createElement(ge,{primaryText:t?t.short:"no room",secondaryText:"Room code:"}))}}]),t}(s.Component)),fe=["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"],ye=["","","","","","","","",""],ve=function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.players;e.title,e.room;return i.a.createElement("div",{className:"playersContainer"},i.a.createElement("div",{className:"fakeMenu"},i.a.createElement("p",{className:"fakeMenuItem"},"Mail"),i.a.createElement("p",{className:"fakeMenuItem"},"Pictures"),i.a.createElement("div",{className:"gridIcon"},ye.map(function(e,t){return i.a.createElement("div",{key:t,className:"gridIconSquare"})})),i.a.createElement("div",{className:"profileCircle"},"?")),i.a.createElement("div",{className:"playersModalBackground"},i.a.createElement("div",{className:"playersInner"},i.a.createElement("div",{className:"playersInnerChevron"}),fe.map(function(e,n){return i.a.createElement(he,Object.assign({key:n,color:e,index:n},t[n]))})),i.a.createElement("div",{className:"filler"})))}}]),t}(s.Component),be=(n(124),["blue","red","yellow","blue","green","red"]),we=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).text=n.createTitle(),n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"createTitle",value:function(){for(var e=this.props.text,t=[],n=0;n<e.length;n++)t.push(e[n]);return t}},{key:"render",value:function(){var e=this.props,t=e.letterStyle,n=e.containerStyle;return i.a.createElement("div",{className:"colorTextContainer",style:n||{}},this.text.map(function(e,n){var a="letterTitle ".concat(be[n%be.length]," ").concat(" "===e&&"space"," ");return i.a.createElement("h4",{className:a,key:n,style:t||{}},e)}))}}]),t}(s.Component),ge=(n(125),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.secondaryText,n=e.primaryText,a=e.containerStyle;return i.a.createElement("div",{className:"inputStyleTextContainer",style:a||{}},i.a.createElement("h4",{className:"text"},i.a.createElement("span",{className:"secondary"},t," "),n),i.a.createElement("img",{src:"http://www.gstatic.com/images/branding/googlemic/2x/googlemic_color_24dp.png"}))}}]),t}(s.Component)),Oe=(n(126),n(127),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).timeouts=[],n.state={isAnimatedIn:!1},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.timeout;this.timeouts[0]=setTimeout(function(){e.setState({isAnimatedIn:!0},function(){e.timeouts[1]=setTimeout(function(){e.setState({isAnimatedIn:!1})},t)})})}},{key:"componentWillReceiveProps",value:function(e){e.showRightWrong&&!this.props.showRightWrong&&setTimeout(function(){"right"===e.showRightWrong?new Audio(n(39)).play():new Audio(n(40)).play()},100)}},{key:"componentWillUnmount",value:function(){for(var e=0;e<this.timeouts.length;e++)clearTimeout(this.timeouts[e])}},{key:"render",value:function(){var e=this.props,t=e.color,n=e.player,a=e.showRightWrong,o=e.bonus;return i.a.createElement("div",{className:"answersHeaderInner ".concat(this.state.isAnimatedIn&&"isAnimated")},i.a.createElement(he,Object.assign({color:t},n)),!(o||0===o)&&i.a.createElement(ge,{primaryText:n.answer||"\u274c",containerStlye:{margin:"0px",marginTop:"-30px"}}),i.a.createElement("h4",{className:"emoji ".concat(a&&" isVisible")},"right"===a?"\u2705":"\u274c"),(o||0===o)&&i.a.createElement("h4",{className:"answer"},"500 bonus * ".concat(o)))}}]),t}(s.Component)),Ee=["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"],je=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).playerDuration=5e3,n.answerDuration=600,n.timeouts=[],n.state={showAnswer:!1,playerIndex:0,player:null},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"showPlayer",value:function(e){var t=this,n=this.props.players;this.setState({player:n[e],playerIndex:e},function(){t.timeouts[e]=setTimeout(function(){t.updateAnswers(n[e].answer,e),t.timeouts[e]=setTimeout(function(){t.setState({showRightWrong:!1,player:!1,showAnswer:!1},function(){e===n.length-1?t.tallyScores(0):t.timeouts[e]=setTimeout(function(){t.showPlayer(e+1)},1e3)})},t.playerDuration/2)},t.playerDuration/4)})}},{key:"updateScore",value:function(e,t){var n=this.props.players,a=Object.assign([],n);a[e].score+=t,this.props.updatePlayers(a)}},{key:"updateAnswers",value:function(e,t){for(var n=this.props,a=n.answers,o=n.round,r=(n.players,Object.assign([],this.props.answers)),s=!1,i=0;i<r.length;i++)r[i].answer!==e||r[i].show&&r[i].show!==o||(r[i].show=o,s=!0,r[i].players.push(t));this.setState({showRightWrong:s?"right":"false"}),this.props.updateAnswers(a)}},{key:"tallyScores",value:function(e){for(var t=this,n=this.props,a=n.answers,o=n.players,r=0,s=0;s<a.length;s++)a[s].players.length&&(r+=1);if(!r)return this.revealAnswers();var i=Object.assign([],o);if(a[e].players.length){for(s=0;s<a[e].players.length;s++)i[a[e].players[s]].score+=a[e].score/a[e].players.length,this.props.updatePlayers(i);setTimeout(function(){e<a.length-1?t.tallyScores(e+1):t.nextRound()},500)}else e<a.length-1?this.tallyScores(e+1):this.nextRound()}},{key:"nextRound",value:function(){var e=this.props,t=e.round,n=(e.questionIndex,e.players),a=e.answers;if(this.moreAnswersAvaliable()&&3!==t){this.props.setRound(t+1);for(var o=Object.assign([],n),r=Object.assign([],a),s=0;s<o.length;s++)o[s].answer=!1;for(s=0;s<a.length;s++)r[s].players=[];this.props.updateAnswers(r),this.props.updatePlayers(o),M(this,this.props.room),this.props.setViewResponses(!1)}else this.revealAnswers()}},{key:"revealAnswers",value:function(){for(var e=this.props,t=(e.round,e.questionIndex,e.players,e.answers),n=0,a=0,o=0;o<t.length;o++)t[o].show?a+=1:(n+=1,this.revealAnswer(o,n));this.moveForwards(n,a)}},{key:"moveForwards",value:function(e,t){var n=this,a=this.props,o=(a.round,a.questionIndex),r=a.players,s=(a.answers,Object.assign([],r));setTimeout(function(){n.setState({player:r[o],bonus:t},function(){s[o].score+=500*t,n.props.updatePlayers(s),n.props.updateAnswers([]),setTimeout(function(){if(n.setState({player:!1,bonus:!1}),o===r.length-1)console.log("END GAME"),n.setEndGame();else{n.props.nextQuestion(),n.props.setRound(1);for(var e=Object.assign([],r),t=0;t<r.length;t++)r[t].answer=!1,r[t].hasSubmitted=!1;n.props.updatePlayers(e),F(n),n.props.setViewResponses(!1),n.props.push("/host/question-input")}},2500)})},(e+2)*this.answerDuration)}},{key:"setEndGame",value:function(){for(var e,t=this.props.players,a=Object.assign([],t),o=[],s=0;s<t.length;s++)t[s].name.length&&o.push(t[s]);o.sort(function(e,t){return e.score-t.score}),this.props.setFinalPlayers(o);for(s=0;s<a.length;s++)t[s].score=0,t[s].answer=!1,t[s].hasSubmitted=!1;this.props.updatePlayers(a),this.props.setRound(1),this.props.nextQuestion(0),this.props.setViewResponses(!1),e=this,new Audio(n(112)).play(),e.props.setGameState("end"),e.props.push("/host/end"),r.emit("host-end-game",e.props.room)}},{key:"revealAnswer",value:function(e,t){var n=this;setTimeout(function(){var t=n.props.answers,a=Object.assign([],t);a[e].show=!0,a[e].isUndiscovered=!0,n.props.updateAnswers(a)},this.answerDuration*t)}},{key:"moreAnswersAvaliable",value:function(){for(var e=this.props.answers,t=0,n=e.length-1;n>=0;n--)e[n].show&&(t+=1);return t!==e.length}},{key:"clearTimeouts",value:function(){for(var e=0;e<this.timeouts.length;e++)clearTimeout(this.timeouts[e])}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log("getting props"),e.isAnswers!==this.props.isAnswers&&e.isAnswers&&setTimeout(function(){t.showPlayer(0)},600)}},{key:"componentWillUnmount",value:function(){this.clearTimeouts()}},{key:"render",value:function(){var e=this.state,t=e.player,n=e.playerIndex,a=(e.showAnswer,e.showRightWrong),o=e.bonus,r=this.props.isAnswers;return console.log(t),i.a.createElement("div",{className:"answersHeaderContainer ".concat(r&&" isVisible")},t&&i.a.createElement(Oe,{timeout:this.playerDuration/6*4,player:t,color:Ee[n],showRightWrong:a,bonus:o}))}}]),t}(s.Component),Se=Object(u.connect)(function(e){return{players:e.host.players,answers:e.host.question.answers,round:e.host.round,room:e.host.room,questionIndex:e.host.questionIndex,isAnswers:e.host.viewResponses}},function(e){return Object(m.b)({push:function(e){return Object(l.push)(e)},updateAnswers:Y,nextQuestion:$,setViewResponses:V,setFinalPlayers:X,updatePlayers:J,setRound:z},e)})(je),Ce=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).timeout=!1,n.countdownTimeout=!1,n.state={visible:-1,countdown:!1},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"countdown",value:function(e){var t=this;e&&this.setState({countdown:30}),this.countdownTimeout=setTimeout(function(){var e,n;t.state.countdown>0?(t.setState({countdown:t.state.countdown-1}),t.countdown(),11===t.state.countdown&&t.props.timerSound.play()):(t.props.timerSound.pause(),t.props.timerSound.currentTime=0,e=t,n=t.props.room,e.props.setGameState("waiting"),r.emit("send-player-waiting",n),e.props.setViewResponses(!0))},1e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this;!this.props.answers.length&&e.answers.length&&setTimeout(function(){t.showAnswer(0)},100),this.props.isAnswers!==e.isAnswers&&(e.isAnswers?(clearTimeout(this.countdownTimeout),this.setState({countdown:!1})):this.countdown(!0))}},{key:"showAnswer",value:function(e){var t=this,n=this.props.answers;console.log(n),this.timeout=setTimeout(function(){t.setState({visible:e},function(){console.log("showing answers",e,n.length),n&&e<n.length-1?t.showAnswer(e+1):(t.countdown(!0),M(t,t.props.room))})},300)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.countdownTimeout),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,a=t.answers,o=(t.isQuestion,t.isAnswers),r=t.players;return i.a.createElement("div",{className:"questionContainer"},(this.state.countdown||0===this.state.countdown)&&i.a.createElement("p",{className:"countdown"},i.a.createElement("span",{className:"secondary"},"Time left: "),this.state.countdown),i.a.createElement("div",{className:"questionInfoContainer"},i.a.createElement(Se,{text:"Fill in the blanks",setGameState:this.props.setGameState.bind(this)})),i.a.createElement("div",{className:"questionAndAnswerContainer"},i.a.createElement("div",{className:"questionShadowContainer"},i.a.createElement("div",{className:"questionInnerContainer"},i.a.createElement(ge,{primaryText:"".concat(n,"..."),containerStyle:{margin:"0px"}}),i.a.createElement("div",{className:"responseContainer"},r&&!o&&r.map(function(e,t){return e.answer?i.a.createElement("p",{className:"responseIndicator"},e.name):i.a.createElement("div",null)})),i.a.createElement("div",{className:"underline"})),i.a.createElement("div",{className:"hostHintsContainer"},a&&a.map(function(t,n){return t.show?i.a.createElement("div",{key:n,className:"hostHintContainer isVisible ".concat(n%2===0&&"grey")},i.a.createElement("p",{className:"revealedAnswer ".concat(t.isUndiscovered&&"undiscovered")},t.answer),i.a.createElement("div",{className:"answerScoreContainer"},t.players&&t.players.map(function(e,t){return console.log("player in answer"),i.a.createElement("p",{key:"".concat(n).concat(t),className:"playerInAnswer"},r[e].name)}),i.a.createElement("p",{className:"answerScore"},t.score))):i.a.createElement("div",{key:n,className:"hostHintContainer ".concat(n%2===0&&"grey"," ").concat(e.state.visible>=n&&"isVisible")},t&&t.hint&&t.hint.map(function(e,a){return 0===a||" "===t.hint[a-1]?i.a.createElement("p",{key:"".concat(n).concat(a),className:"hintLetter ".concat(" "===e&&"space")},t.answer[a]):i.a.createElement("p",{key:"".concat(n).concat(a),className:"hintLetter ".concat(" "===e&&"space")},e)}),i.a.createElement("div",{className:"answerScoreContainer"},i.a.createElement("p",{className:"answerScore"},t.score)))})))))}}]),t}(s.Component),ke=(n(128),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.name;return i.a.createElement("div",{className:"hostQuestionInputContainer"},i.a.createElement(we,{text:e}),i.a.createElement(ge,{secondaryText:"Enter your search term"}))}}]),t}(s.Component)),Te=(n(129),["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"]),Ne=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).timeouts=[],n.state={visible:-1},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.showPlayer(0)}},{key:"showPlayer",value:function(e){var t=this,n=this.props.players;this.timeouts[e]=setTimeout(function(){t.setState({visible:e},function(){n[e+1]&&n[e+1].name&&t.showPlayer(e+1)})},500)}},{key:"componentWillUnmount",value:function(){for(var e=this.timeouts.length-1;e>=0;e--)clearTimeout(this.timeouts[e])}},{key:"render",value:function(){var e=this,t=this.props.players;return i.a.createElement("div",{className:"hostEndContainer"},i.a.createElement(we,{text:"That's all folks!"}),i.a.createElement("div",{className:"finalPlayerOuterContainer"},t&&t.map(function(t,n){return i.a.createElement("div",{className:"finalPlayerInnerContainer ".concat(e.state.visible>=n&&"isVisible")},i.a.createElement("h4",null,"#",n+1),i.a.createElement(he,Object.assign({color:Te[n],key:n},t)))})))}}]),t}(s.Component),xe=Object(u.connect)(function(e){return{players:e.host.finalPlayers}},function(e){return Object(m.b)({push:function(e){return Object(l.push)(e)}},e)})(Ne),Ae=function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"instructionsComplete",value:function(){console.log("instructions complete"),F(this),this.props.push("/host/question-input")}},{key:"componentWillMount",value:function(){this.props.room||this.props.push("/host")}},{key:"render",value:function(){var e=this,t=this.props,a=t.room,o=t.players,r=t.question,s=t.questionIndex,c=t.isAnswers,u=(t.setViewResponses,t.sounds);return i.a.createElement("div",{className:"hostContainer"},i.a.createElement(ae,{isHost:!0}),i.a.createElement("div",{className:"hostBackground",style:{backgroundImage:"url("+n(130)+")"}},i.a.createElement("div",{className:"hostBackgroundOverlay"})),i.a.createElement("div",{className:"hostMainContainer"},i.a.createElement(C.a,{exact:!0,path:"/host",render:function(){return i.a.createElement(de,{title:"What would yougle do",room:a})}}),i.a.createElement(C.a,{exact:!0,path:"/host/instructions",render:function(){return i.a.createElement(oe,{complete:e.instructionsComplete.bind(e)})}}),i.a.createElement(C.a,{exact:!0,path:"/host/question",render:function(){return i.a.createElement(Ce,{question:r.question,answers:r.answers,players:o,isAnswers:c,room:a,setViewResponses:e.props.setViewResponses.bind(e),timerSound:u.timer,setGameState:e.props.setGameState.bind(e)})}}),i.a.createElement(C.a,{exact:!0,path:"/host/question-input",render:function(){return i.a.createElement(ke,{name:o&&o[s]?o[s].name:""})}}),i.a.createElement(C.a,{exact:!0,path:"/host/end",render:function(){return i.a.createElement(xe,null)}})),i.a.createElement("div",{className:"hostPlayersContainer"},i.a.createElement(ve,{players:o,title:"What would yougle do",room:a})))}}]),t}(s.Component),Re=Object(u.connect)(function(e){return{room:e.host.room,isAnswers:e.host.viewResponses,players:e.host.players,questionIndex:e.host.questionIndex,question:e.host.question,sounds:e.sounds}},function(e){return Object(m.b)({push:function(e){return Object(l.push)(e)},setViewResponses:V,setGameState:K},e)})(Ae),qe=(n(131),n(16)),_e=(n(132),function(e){function t(e){var n;Object(k.a)(this,t),n=Object(N.a)(this,Object(x.a)(t).call(this,e));var a=!!window.localStorage.quiz&&JSON.parse(window.localStorage.quiz);return console.log(a),n.state={name:a&&a.name?a.name:"",roomcode:a&&a.room?a.room:""},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){var e=this.state;!function(e,t){var n=!!window.localStorage.quiz&&JSON.parse(window.localStorage.quiz).id;t.prevId=n,o.emit("player-connected",t),e.props.setLoading(!0)}(this,{room:e.roomcode,name:e.name})}},{key:"onChange",value:function(e,t){console.log(e,t.target.value),this.setState(Object(qe.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.roomcode;return i.a.createElement("div",{className:"loginContainer"},i.a.createElement(we,{text:"Let's get started",letterStyle:{fontSize:"50px"}}),i.a.createElement(me,{placeholder:"Name",value:t,onChange:this.onChange.bind(this,"name")}),i.a.createElement(me,{placeholder:"Roomcode",value:n,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"roomcode")}),i.a.createElement("div",null))}}]),t}(s.Component)),Ie=Object(u.connect)(function(e){return{users:e.player.users,room:e.player.room,usersSelected:e.player.usersSelected}},function(e){return Object(m.b)({setLoading:te},e)})(_e);n.p,n(133);var Pe=function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onClick",value:function(){H(this.props.room)}},{key:"render",value:function(){return i.a.createElement("div",{className:"playerWaitingStartContainer"},i.a.createElement(we,{text:"Sit tight",letterStyle:{fontSize:"50px"}}),i.a.createElement("h4",{className:"title"},"Let us know when everyone is in."),i.a.createElement(ce,{text:"Everybody's in",onClick:this.onClick.bind(this)}))}}]),t}(s.Component),Le=Object(u.connect)(function(e){return{room:e.player.room}},function(e){return Object(m.b)({},e)})(Pe),De=(n(134),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"waitingContainer"},i.a.createElement(we,{text:"waiting",letterStyle:{fontSize:"50px"}}))}}]),t}(s.Component)),He=(n(135),function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onClick",value:function(){H(this.props.room)}},{key:"render",value:function(){return i.a.createElement("div",{className:"endContainer"},i.a.createElement(we,{text:"That's all folks"}),i.a.createElement(ce,{text:"Play again!",onClick:this.onClick.bind(this)}))}}]),t}(s.Component)),We=(n(136),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).state={question:""},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){L(this,{question:this.state.question,room:this.props.room})}},{key:"onChange",value:function(e,t){this.setState(Object(qe.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state.question;return i.a.createElement("div",{className:"questionInputContainer"},i.a.createElement(we,{text:"Search term",letterStyle:{fontSize:"50px"}}),i.a.createElement("p",null,"Remember you score points for every answer discovered"),i.a.createElement(me,{placeholder:"Search",value:e,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"question")}),i.a.createElement("div",null))}}]),t}(s.Component)),Fe=Object(u.connect)(function(e){return{users:e.player.users,room:e.player.room,usersSelected:e.player.usersSelected}},function(e){return Object(m.b)({setLoading:te},e)})(We),Me=(n(137),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).state={answer:""},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){var e=this,t=this.state.answer,n=this.props,a=n.room,r=n.id,s={answer:t.toLowerCase(),room:a,id:r};this.setState({answer:""},function(){!function(e,t){console.log("sending answer",t),o.emit("player-send-answer",t),e.props.setLoading(!0)}(e,s)})}},{key:"onChange",value:function(e,t){this.setState(Object(qe.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state.answer;return i.a.createElement("div",{className:"answerInputContainer"},i.a.createElement(we,{text:"What's your guess?",letterStyle:{fontSize:"50px"}}),i.a.createElement("p",{className:"title"},"You've got to be spot on. ",i.a.createElement("br",null),"Letters, spaces and numbers only."),i.a.createElement(me,{placeholder:"Guess?",value:e,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"answer")}),i.a.createElement("div",null))}}]),t}(s.Component)),Ge=Object(u.connect)(function(e){return{id:e.player.id,room:e.player.room}},function(e){return Object(m.b)({setLoading:te},e)})(Me),Ve=(n(138),s.Component,n(139),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(x.a)(t).call(this,e))).state={question:""},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){L(this,{question:this.state.question,room:this.props.room})}},{key:"onChange",value:function(e,t){this.setState(Object(qe.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state.question;return i.a.createElement("div",{className:"questionInputErrorContainer"},i.a.createElement(we,{text:"Search term",letterStyle:{fontSize:"50px"}}),i.a.createElement("p",{className:"error"},"That didn't work. Try another"),i.a.createElement(me,{placeholder:"Search",value:e,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"question")}),i.a.createElement("div",null))}}]),t}(s.Component)),Ue=Object(u.connect)(function(e){return{users:e.player.users,room:e.player.room,usersSelected:e.player.usersSelected}},function(e){return Object(m.b)({setLoading:te},e)})(Ve),Be=function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(T.a)(t,[{key:"onClickUser",value:function(e){this.props.toggleUserSelect(e)}},{key:"changeScene",value:function(e){this.props.push(e)}},{key:"componentWillMount",value:function(){window.localStorage.quiz&&this.props.push("/p")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.room;return i.a.createElement("div",{className:"playerContainer"},i.a.createElement(ae,null),i.a.createElement("div",{className:"routeContentContainer"},i.a.createElement(C.a,{exact:!0,path:"/p",render:function(){return i.a.createElement(Ie,{push:e.changeScene.bind(e)})}}),i.a.createElement(C.a,{exact:!0,path:"/p/waiting-start",render:function(){return i.a.createElement(Le,{push:e.changeScene.bind(e)})}}),i.a.createElement(C.a,{exact:!0,path:"/p/waiting",render:function(){return i.a.createElement(De,null)}}),i.a.createElement(C.a,{exact:!0,path:"/p/question-input",render:function(){return i.a.createElement(Fe,null)}}),i.a.createElement(C.a,{exact:!0,path:"/p/question-input-error",render:function(){return i.a.createElement(Ue,null)}}),i.a.createElement(C.a,{exact:!0,path:"/p/answer-input",render:function(){return i.a.createElement(Ge,null)}}),i.a.createElement(C.a,{exact:!0,path:"/p/end",render:function(){return i.a.createElement(He,{room:a})}})),n&&i.a.createElement(De,null))}}]),t}(s.Component),Ye=Object(u.connect)(function(e){return{loading:e.player.loading,room:e.player.room}},function(e){return Object(m.b)({push:function(e){return Object(l.push)(e)}},e)})(Be),ze=function(){return i.a.createElement("div",{className:"appContainers"},i.a.createElement("main",null,i.a.createElement(C.a,{path:"/p",component:Ye}),i.a.createElement(C.a,{path:"/host",component:Re})))};n(140);Object(c.render)(i.a.createElement(u.Provider,{store:S},i.a.createElement(l.ConnectedRouter,{history:O},i.a.createElement(i.a.Fragment,null,i.a.createElement(ze,null)))),document.getElementById("root"))}]),[[61,1,2]]]);
//# sourceMappingURL=main.e99c5779.chunk.js.map